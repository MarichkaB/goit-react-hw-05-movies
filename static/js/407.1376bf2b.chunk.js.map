{"version":3,"file":"static/js/407.1376bf2b.chunk.js","mappings":"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","sources":["API/api.js","webpack://react-homework-template/./src/components/Container/container.module.css?0cd8","components/Container/Container.jsx","webpack://react-homework-template/./src/components/MovieList/movieList.module.css?ccba","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/SearchForm/saerchForm.module.css?f4c6","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = `https://api.themoviedb.org/3`;\nconst API_KEY = '4e5147b94dd9ab5d00dab97571ce77c5';\n\nconst getTrending = async () => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getSearchMovies = async (query, page) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?&language=en-U&include_adult=true&api_key=${API_KEY}&page=${page}&query=${query}`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getMovieDetails = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getMovieСredits = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getMovieReviews = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const API = {\n  getTrending,\n  getSearchMovies,\n  getMovieDetails,\n  getMovieСredits,\n  getMovieReviews,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container_container__yWowe\"};","import s from '../Container/container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movieList_list__TWtH3\",\"item\":\"movieList_item__4++3+\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from '../MovieList/movieList.module.css';\n\nconst MovieList = ({ films }) => {\n  const location = useLocation();\n  return (\n    <ul className={s.list}>\n      {films.map(({ id, title }) => (\n        <li key={id}>\n          <Link\n            to={`/movies/${id}`}\n            state={{ from: location }}\n            className={s.item}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MovieList;\n\nMovieList.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"saerchForm_form__auW9J\",\"button\":\"saerchForm_button__C9DOu\",\"input\":\"saerchForm_input__4YzdX\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { useMemo } from 'react';\nimport { toast } from 'react-toastify';\nimport s from '../SearchForm/saerchForm.module.css';\n\nconst SearchForm = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const queryParams = useMemo(() => {\n    return [...searchParams].reduce((acc, [key, value]) => {\n      acc[key] = value;\n      return acc;\n    }, {});\n  }, [searchParams]);\n\n  const [query, setQuery] = useState(queryParams.search ?? '');\n\n  const handleInputChange = evt => {\n    const { value } = evt.target;\n    setQuery(value);\n  };\n\n  const handleFormSubmit = evt => {\n    evt.preventDefault();\n    if (!query.trim()) {\n      toast.error('Please, enter your request');\n      return;\n    }\n    setSearchParams(prev => {\n      return { ...queryParams, search: query };\n    });\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleFormSubmit}>\n      <input\n        name=\"film\"\n        type=\"text\"\n        placeholder=\"Enter\"\n        className={s.input}\n        onChange={handleInputChange}\n        value={query}\n      />\n      <button type=\"submit\" className={s.button}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { API } from 'API/api';\nimport { toast } from 'react-toastify';\n\nimport MovieList from 'components/MovieList';\nimport SearchForm from 'components/SearchForm';\nimport Container from 'components/Container';\n\nconst Movies = () => {\n  const [searchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const [films, setFilms] = useState([]);\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    API.getSearchMovies(search)\n      .then(({ data }) => {\n        if (!data.results.length) {\n          setFilms([]);\n          toast.warn(`No results matching \"${search}\"`);\n          return;\n        }\n        setFilms(data.results);\n      })\n      .catch(error => console.log(error.message))\n      .finally(() => {});\n  }, [search]);\n\n  return (\n    <Container>\n      <SearchForm />\n      {films.length > 0 && <MovieList films={films} />}\n    </Container>\n  );\n};\n\nexport default Movies;\n"],"names":["BASE_URL","API_KEY","getTrending","axios","response","console","log","getSearchMovies","query","page","getMovieDetails","movieId","getMovieСredits","getMovieReviews","API","children","className","s","films","location","useLocation","map","id","title","to","state","from","useSearchParams","searchParams","setSearchParams","queryParams","useMemo","reduce","acc","key","value","useState","search","setQuery","onSubmit","evt","preventDefault","trim","prev","toast","name","type","placeholder","onChange","target","get","setFilms","useEffect","then","data","results","length","catch","error","message","finally","Container","MovieList"],"sourceRoot":""}